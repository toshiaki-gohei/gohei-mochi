## gohei-mochi (五平餅)

[赤福 Firefox 版 SP](https://toshiakisp.github.io/akahuku-firefox-sp/)っぽい UI と動作をする WebExtension です。  
個人的な利用のために作っていましたが、そこそこいい感じになってきたので公開することにしました。

Firefox と Chrome の最新版で動作を確認しています。  
まだまだ機能不足ですが、追々充実させていきたいです。

gohei-mochi は生まれたばかりのアドオンです。応援して下さいね☆


### インストールの方法

アドオンに署名をしていないので、通常のアドオンと同じ方法でインストールはできません。  
Zip をダウンロードして解凍した後、以下の手順でインストールすることができます。

Firefox の場合
1. ブラウザのアドレスバーに `about:debugging` と入力します
2. `Firefox 開発ツール デバッガー` タブが開きます
3. ` アドオン` の `一時的なアドオンを読み込む` から、ファイル選択ダイアログを表示します
4. 解凍した Zip のフォルダにある manifest.json を指定するとインストールできます

Chrome の場合
1. ブラウザのアドレスバーに `chrome://extensions` と入力します
2. `拡張機能` タブが開きます
3. `デベロッパー モード` にチェック
4. `パッケージ化されていない拡張機能を読み込む` から、ファイル選択ダイアログを表示します
5. 解凍した Zip のフォルダを指定するとインストールできます

どちらのインストールもブラウザを終了させると(一時的にインストールしているだけなので) gohei-mochi は自動的に削除されます。  
ブラウザを再起動した場合は、再度 gohei-mochi をインストールする必要があります。


### 主な機能

レス送信モードとカタログモードで動作します。

スレッド
* 基本的なスレの更新とレスの投稿
* 引用ポップアップ
* ID/IPのカウンタ

カタログ
* 基本的なカタログの更新と表示順の変更


### 未対応な機能

* レスの削除  
  → レスを削除したい場合、素のふたばのページを表示できる(gohei-mochi の入っていない or 無効にした)ブラウザを使って削除して下さい
* 手書きと手書きJS


### 注意
* Firefox は 58 以上を推奨
  + Windows 版の 57 だと次の制限があります
    - レスの投稿ができません(Cookie のエラーになります)
    - カタログの更新を(Cookie に)設定したサイズで行なえません(初期サイズでの更新はできます)
  + 56 以下のバージョンは動作の確認をしてないのでちゃんと動くかわかりません


### 実装したい機能
スレ
* タブのアイコンをスレ画にする(現状ふたばのアイコン)
* 引用元のレスから引用先のレスを表示(機能的には4chanのやつみたいなの)
* 投稿フォーム
  + レス内のテキストを選択して引用
  + クリップボードから画像を添付
  + textarea にマウスオーバーで右下に入力クリア用のリンクを出す
* パネル
  + レスのフィルタ機能  
    削除された記事の表示/非表示、IDとかキーワード、画像のあるレスのみ、など
* ID/IP関係
  + レスを抽出(例えばIDがリンクになってマウスをあわせるとそのIDのレスを全てポップアップ)
  + このID/IPを全てDEL

カタログ
* 検索
  + and検索/or検索
  + 検索結果は専用のエリアに出るようにして、使い方によってはスレのピン留めみたいな使い方もできる感じ
* ソートを切り替えたらURLにも反映

その他
* 表示できてないふたばの広告があるのでその表示
